{"version":3,"file":"view.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMA,GAAG,GAAG,8DAA8D;AAC1EC,KAAK,CAACD,GAAG,CAAC,CACRE,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,IAAK;EACfA,IAAI,CAACC,OAAO,CAAEC,KAAK,IAAK;IACd;IACA,MAAMC,SAAS,GAAGD,KAAK,CAACC,SAAS;IACjC,IAAIC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,SAAS,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IACjD,IAAII,KAAK,GAAGF,IAAI,CAACC,KAAK,CAAEH,SAAS,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,IAAK,EAAE,GAAG,EAAE,CAAC,CAAC;IAChE,IAAIK,OAAO,GAAGH,IAAI,CAACC,KAAK,CAAEH,SAAS,IAAI,EAAE,GAAG,EAAE,CAAC,GAAI,EAAE,CAAC;IAEtDC,IAAI,GAAIA,IAAI,GAAG,CAAC,GAAIA,IAAI,GAAG,IAAI,GAAG,EAAE;IACpCG,KAAK,GAAIA,KAAK,GAAG,CAAC,GAAIA,KAAK,GAAG,IAAI,GAAG,EAAE;IACvCC,OAAO,GAAIA,OAAO,GAAG,CAAC,GAAIA,OAAO,GAAG,IAAI,GAAG,EAAE;IAE7C,MAAMC,gBAAgB,GAAGC,QAAQ,CAACC,aAAa,CAAC,qBAAqB,CAAC;IACtE,IAAIF,gBAAgB,EAAE;MAClBA,gBAAgB,CAACG,SAAS,GAAGR,IAAI,GAAGG,KAAK,GAAGC,OAAO;IACvD;IAEA,MAAMK,WAAW,GAAGH,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC;IACtD,IAAIE,WAAW,EAAE;MACbA,WAAW,CAACD,SAAS,GAAGV,KAAK,CAACY,OAAO,CAACC,aAAa;IACvD;IAEA,MAAMC,mBAAmB,GAAGN,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAC;IACtE,IAAIK,mBAAmB,EAAE;MACrBA,mBAAmB,CAACJ,SAAS,GAAGV,KAAK,CAACY,OAAO,CAACG,eAAe;IACjE;EACV,CAAC,CAAC;AACH,CAAC,CAAC;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E","sources":["webpack://helldivers-2-major-order/./src/view.js"],"sourcesContent":["/**\r\n * Use this file for JavaScript code that you want to run in the front-end\r\n * on posts/pages that contain this block.\r\n *\r\n * When this file is defined as the value of the `viewScript` property\r\n * in `block.json` it will be enqueued on the front end of the site.\r\n *\r\n * Example:\r\n *\r\n * ```js\r\n * {\r\n *   \"viewScript\": \"file:./view.js\"\r\n * }\r\n * ```\r\n *\r\n * If you're not making any changes to this file because your project doesn't need any\r\n * JavaScript running in the front-end, then you should delete this file and remove\r\n * the `viewScript` property from `block.json`.\r\n *\r\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\r\n */\r\n\r\nconst url = \"https://helldiverstrainingmanual.com/api/v1/war/major-orders\";\r\nfetch(url)\r\n\t.then((response) => response.json())\r\n\t.then((data) => {\r\n\t\tdata.forEach((order) => {\r\n            // convert 'expiresIn' to #D #H #M #S\r\n            const expiresIn = order.expiresIn;\r\n            let days = Math.floor(expiresIn / (24 * 60 * 60));\r\n            let hours = Math.floor((expiresIn % (24 * 60 * 60)) / (60 * 60));\r\n            let minutes = Math.floor((expiresIn % (60 * 60)) / 60);\r\n\r\n            days = (days > 0) ? days + \"D \" : \"\";\r\n            hours = (hours > 0) ? hours + \"H \" : \"\";\r\n            minutes = (minutes > 0) ? minutes + \"M \" : \"\";\r\n\t\t\t\r\n            const countdownElement = document.querySelector(\".mo-timer-countdown\");\r\n            if (countdownElement) {\r\n                countdownElement.innerHTML = days + hours + minutes;\r\n            }\r\n\t\t\t\r\n            const bodyElement = document.querySelector(\".mo-body\");\r\n            if (bodyElement) {\r\n                bodyElement.innerHTML = order.setting.overrideBrief;\r\n            }\r\n\r\n            const requirementsElement = document.querySelector(\".mo-requirements\");\r\n            if (requirementsElement) {\r\n                requirementsElement.innerHTML = order.setting.taskDescription;\r\n            }\r\n\t\t});\r\n\t});\r\n\r\n/*\r\n    {\r\n    \"id32\": 3339519263,\r\n    \"progress\": [\r\n        0\r\n    ],\r\n    \"expiresIn\": 414243,\r\n    \"setting\": {\r\n        \"type\": 4,\r\n        \"overrideTitle\": \"MAJOR ORDER\",\r\n        \"overrideBrief\": \"Both the Terminids and Automatons are attacking. Defend our territory on both fronts.\",\r\n        \"taskDescription\": \"Succeed in the Defense of at least 10 planets.\",\r\n        \"tasks\": [\r\n            {\r\n                \"type\": 12,\r\n                \"values\": [\r\n                    10,\r\n                    0,\r\n                    0,\r\n                    0\r\n                ],\r\n                \"valueTypes\": [\r\n                    3,\r\n                    1,\r\n                    11,\r\n                    12\r\n                ]\r\n            }\r\n        ],\r\n        \"reward\": {\r\n            \"type\": 1,\r\n            \"id32\": 897894480,\r\n            \"amount\": 50\r\n        },\r\n        \"flags\": 0\r\n    }\r\n}\r\n*/\r\n"],"names":["url","fetch","then","response","json","data","forEach","order","expiresIn","days","Math","floor","hours","minutes","countdownElement","document","querySelector","innerHTML","bodyElement","setting","overrideBrief","requirementsElement","taskDescription"],"sourceRoot":""}