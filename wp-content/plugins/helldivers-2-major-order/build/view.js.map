{"version":3,"file":"view.js","mappings":"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","sources":["webpack://helldivers-2-major-order/./src/utilities/localget.js","webpack://helldivers-2-major-order/webpack/bootstrap","webpack://helldivers-2-major-order/webpack/runtime/define property getters","webpack://helldivers-2-major-order/webpack/runtime/hasOwnProperty shorthand","webpack://helldivers-2-major-order/webpack/runtime/make namespace object","webpack://helldivers-2-major-order/./src/view.js"],"sourcesContent":["export async function localGet(url = '/wp-json/helldivers-2-major-order/v1/', endpoint = 'major-order') {\n  return fetch(url + endpoint)\n    .then(response => response.json())\n    .then(data => {\n      console.log(data);\n    });\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\r\n * Use this file for JavaScript code that you want to run in the front-end\r\n * on posts/pages that contain this block.\r\n *\r\n * When this file is defined as the value of the `viewScript` property\r\n * in `block.json` it will be enqueued on the front end of the site.\r\n *\r\n * Example:\r\n *\r\n * ```js\r\n * {\r\n *   \"viewScript\": \"file:./view.js\"\r\n * }\r\n * ```\r\n *\r\n * If you're not making any changes to this file because your project doesn't need any\r\n * JavaScript running in the front-end, then you should delete this file and remove\r\n * the `viewScript` property from `block.json`.\r\n *\r\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\r\n */\r\n\r\nimport { localGet } from \"./utilities/localget\";\r\n\r\n\r\nfunction main() {\r\n  const url = \"https://helldiverstrainingmanual.com/api/v1/war/major-orders\";\r\n  const campaignStatus =\r\n    \"https://helldiverstrainingmanual.com/api/v1/war/campaign\";\r\n  const automatonRed = \"#ef7679\";\r\n  const terminidOrange = \"#ffa300\";\r\n\tconst data = localGet();\r\n\tconsole.log(data);\r\n\tfetch(url)\r\n\t\t.then((response) => response.json())\r\n\t\t.then((data) => {\r\n\t\t\tdata.forEach((order) => {\r\n\t\t\t\tfetch(campaignStatus)\r\n\t\t\t\t\t.then((response) => response.json())\r\n\t\t\t\t\t.then((campaignData) => {\r\n\t\t\t\t\t\tconst planetGroup = document.querySelector(\".mo-planets-group\");\r\n\t\t\t\t\t\tplanetGroup.innerHTML = \"\";\r\n\r\n\t\t\t\t\t\t// reorder planets by planet name\r\n\t\t\t\t\t\tcampaignData.sort((a, b) => {\r\n\t\t\t\t\t\t\tif (a.name < b.name) {\r\n\t\t\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (a.name > b.name) {\r\n\t\t\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// create planet elements\r\n\t\t\t\t\t\tcampaignData.forEach((planet) => {\r\n\t\t\t\t\t\t\tif (planet.majorOrder) {\r\n\t\t\t\t\t\t\t\tconst factionColor =\r\n\t\t\t\t\t\t\t\t\tplanet.faction === \"Terminids\"\r\n\t\t\t\t\t\t\t\t\t\t? terminidOrange\r\n\t\t\t\t\t\t\t\t\t\t: automatonRed;\r\n\t\t\t\t\t\t\t\tconst requirementGroup = document.querySelector(\r\n\t\t\t\t\t\t\t\t\t\".mo-requirements-group\",\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\trequirementGroup.style.color = factionColor;\r\n\t\t\t\t\t\t\t\tconst planetElement = document.createElement(\"div\");\r\n\t\t\t\t\t\t\t\tplanetElement.classList.add(\"mo-planet\");\r\n\r\n\t\t\t\t\t\t\t\tconst planetName = document.createElement(\"div\");\r\n\t\t\t\t\t\t\t\tplanetName.classList.add(\"mo-planet-name\");\r\n\t\t\t\t\t\t\t\tplanetName.style.color = factionColor;\r\n\t\t\t\t\t\t\t\tplanetName.innerHTML = planet.name.toUpperCase();\r\n\r\n\t\t\t\t\t\t\t\tconst planetProgress = document.createElement(\"div\");\r\n\t\t\t\t\t\t\t\tplanetProgress.classList.add(\"mo-planet-progress\");\r\n\t\t\t\t\t\t\t\tplanetProgress.style.backgroundColor = factionColor;\r\n\t\t\t\t\t\t\t\tlet truncatedPercentage = planet.percentage.toFixed(2);\r\n\r\n\t\t\t\t\t\t\t\t// Set progress bar width and apply styling\r\n\t\t\t\t\t\t\t\tconst progressBarAfter = document.createElement(\"div\");\r\n\t\t\t\t\t\t\t\tprogressBarAfter.innerHTML = `${truncatedPercentage}%`;\r\n\t\t\t\t\t\t\t\tprogressBarAfter.style.width = `${planet.percentage}%`;\r\n\t\t\t\t\t\t\t\tprogressBarAfter.style.height = \"100%\";\r\n\t\t\t\t\t\t\t\tprogressBarAfter.style.backgroundColor = \"#9fcce1\";\r\n\t\t\t\t\t\t\t\tprogressBarAfter.style.borderRadius = \"5px\";\r\n\t\t\t\t\t\t\t\tprogressBarAfter.style.position = \"absolute\";\r\n\t\t\t\t\t\t\t\tprogressBarAfter.style.top = \"0\";\r\n\t\t\t\t\t\t\t\tprogressBarAfter.style.left = \"0\";\r\n\t\t\t\t\t\t\t\tprogressBarAfter.style.color = \"black\";\r\n\t\t\t\t\t\t\t\tprogressBarAfter.style.display = \"flex\";\r\n\t\t\t\t\t\t\t\tprogressBarAfter.style.justifyContent = \"flex-start\";\r\n\t\t\t\t\t\t\t\tprogressBarAfter.style.paddingLeft = \"5px\";\r\n\t\t\t\t\t\t\t\tplanetProgress.appendChild(progressBarAfter);\r\n\t\t\t\t\t\t\t\tplanetElement.appendChild(planetName);\r\n\t\t\t\t\t\t\t\tplanetElement.appendChild(planetProgress);\r\n\t\t\t\t\t\t\t\tplanetGroup.appendChild(planetElement);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// set grid-template-columns to valid planets\r\n\t\t\t\t\t\tif (campaignData.length > 1) {\r\n\t\t\t\t\t\t\tlet planetsInCampaign = 0;\r\n\t\t\t\t\t\t\tcampaignData.forEach((planet) => {\r\n\t\t\t\t\t\t\t\tif (planet.majorOrder) {\r\n\t\t\t\t\t\t\t\t\tplanetsInCampaign++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tplanetGroup.style.gridTemplateColumns = `repeat(${planetsInCampaign}, 1fr)`;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tconst bodyElement = document.querySelector(\".mo-body\");\r\n\t\t\tconst taskDescription = document.querySelector(\".mo-requirements p\");\r\n\t\t\tconst rewardsElement = document.querySelector(\".reward\");\r\n\r\n\t\t\tbodyElement.innerHTML = data[0].setting.overrideBrief;\r\n\t\t\ttaskDescription.innerHTML = data[0].setting.taskDescription;\r\n\t\t\trewardsElement.innerHTML = data[0].setting.reward.amount;\r\n\r\n\t\t\tconst timeRemainingElement = document.querySelector(\r\n\t\t\t\t\".mo-timer-countdown\",\r\n\t\t\t);\r\n\t\t\tconst timeRemaining = data[0].expiresIn;\r\n\t\t\tconst remainingHours = Math.floor(timeRemaining / 3600) % 24;\r\n\t\t\tconst remainingDays = Math.floor(timeRemaining / 86400);\r\n\r\n\t\t\ttimeRemainingElement.innerHTML = `${remainingDays}D ${remainingHours}H`;\r\n\t\t});\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", main);"],"names":["localGet","url","endpoint","fetch","then","response","json","data","console","log","main","campaignStatus","automatonRed","terminidOrange","forEach","order","campaignData","planetGroup","document","querySelector","innerHTML","sort","a","b","name","planet","majorOrder","factionColor","faction","requirementGroup","style","color","planetElement","createElement","classList","add","planetName","toUpperCase","planetProgress","backgroundColor","truncatedPercentage","percentage","toFixed","progressBarAfter","width","height","borderRadius","position","top","left","display","justifyContent","paddingLeft","appendChild","length","planetsInCampaign","gridTemplateColumns","bodyElement","taskDescription","rewardsElement","setting","overrideBrief","reward","amount","timeRemainingElement","timeRemaining","expiresIn","remainingHours","Math","floor","remainingDays","addEventListener"],"sourceRoot":""}